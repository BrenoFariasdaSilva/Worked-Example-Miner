diff --git a/zookeeper/c/src/mt_adaptor.c b/zookeeper/c/src/mt_adaptor.c
index cc5aa2621..d105eef98 100755
--- a/zookeeper/c/src/mt_adaptor.c
+++ b/zookeeper/c/src/mt_adaptor.c
@@ -18,7 +18,11 @@
 #endif
 
 #define BUILD_LIB
+
+#ifndef _GNU_SOURCE
 #define _GNU_SOURCE
+#endif
+
 #include "zk_adaptor.h"
 #include <stdlib.h>
 #include <stdio.h>
